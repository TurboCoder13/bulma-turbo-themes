<!doctype html>
<html data-theme="catppuccin-mocha" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Turbo Themes - Tailwind</title>
    <!-- Turbo Themes: Core and theme CSS -->
    <link rel="stylesheet" href="./turbo-themes/turbo-core.css" />
    <link
      id="theme-css"
      rel="stylesheet"
      href="./turbo-themes/themes/catppuccin-mocha.css"
    />
    <!-- Tailwind CSS (processed by Vite) -->
    <link rel="stylesheet" href="./src/input.css" />
  </head>
  <body class="bg-background text-foreground p-8">
    <header
      class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-6"
    >
      <div>
        <h1 class="text-3xl font-semibold text-primary">Tailwind + Turbo Themes</h1>
        <p class="text-muted">
          Uses the Tailwind preset from the Turbo Themes distribution.
        </p>
      </div>
      <label class="text-sm text-muted">
        Theme
        <select
          id="theme-selector"
          class="ml-2 rounded border border-default bg-surface text-foreground px-2 py-1"
        >
          <option value="catppuccin-mocha">Catppuccin Mocha</option>
          <option value="catppuccin-macchiato">Catppuccin Macchiato</option>
          <option value="catppuccin-frappe">Catppuccin Frappe</option>
          <option value="catppuccin-latte">Catppuccin Latte</option>
          <option value="dracula">Dracula</option>
          <option value="gruvbox-dark-hard">Gruvbox Dark Hard</option>
          <option value="gruvbox-dark">Gruvbox Dark</option>
          <option value="gruvbox-dark-soft">Gruvbox Dark Soft</option>
          <option value="gruvbox-light-hard">Gruvbox Light Hard</option>
          <option value="gruvbox-light">Gruvbox Light</option>
          <option value="gruvbox-light-soft">Gruvbox Light Soft</option>
          <option value="github-dark">GitHub Dark</option>
          <option value="github-light">GitHub Light</option>
          <option value="bulma-dark">Bulma Dark</option>
          <option value="bulma-light">Bulma Light</option>
          <option value="nord">Nord</option>
          <option value="solarized-dark">Solarized Dark</option>
          <option value="solarized-light">Solarized Light</option>
          <option value="rose-pine">Rosé Pine</option>
          <option value="rose-pine-moon">Rosé Pine Moon</option>
          <option value="rose-pine-dawn">Rosé Pine Dawn</option>
        </select>
      </label>
    </header>

    <section class="bg-surface border border-default rounded-lg p-4 mb-4 shadow-sm">
      <h2 class="text-xl font-semibold mb-2">Buttons</h2>
      <div class="flex gap-2 flex-wrap">
        <button class="bg-primary text-inverse px-4 py-2 rounded">Primary</button>
        <button class="bg-success text-inverse px-4 py-2 rounded">Success</button>
        <button class="bg-danger text-inverse px-4 py-2 rounded">Danger</button>
      </div>
    </section>

    <section class="bg-surface border border-default rounded-lg p-4 mb-4 shadow-sm">
      <h2 class="text-xl font-semibold mb-2">Card</h2>
      <p class="text-muted mb-3">
        Utility classes come from the Tailwind preset; colors resolve from the active
        Turbo theme.
      </p>
      <div class="grid gap-4 md:grid-cols-3">
        <div class="bg-surface-alt border border-strong rounded-lg p-4">
          <h3 class="font-semibold text-foreground mb-1">Surface</h3>
          <p class="text-muted text-sm">Uses surface and border tokens.</p>
        </div>
        <div class="bg-surface-alt border border-strong rounded-lg p-4">
          <h3 class="font-semibold text-foreground mb-1">Typography</h3>
          <p class="text-muted text-sm">Text colors map to tokenized palette.</p>
        </div>
        <div class="bg-surface-alt border border-strong rounded-lg p-4">
          <h3 class="font-semibold text-foreground mb-1">State</h3>
          <p class="text-muted text-sm">Buttons pick up brand/state colors.</p>
        </div>
      </div>
    </section>

    <section class="bg-surface border border-default rounded-lg p-4 shadow-sm">
      <h2 class="text-xl font-semibold mb-2">Alerts</h2>
      <div class="flex flex-col gap-2">
        <div
          class="rounded border-l-4 border-primary bg-primary/10 text-foreground px-3 py-2"
        >
          Primary alert
        </div>
        <div
          class="rounded border-l-4 border-success bg-success/10 text-foreground px-3 py-2"
        >
          Success alert
        </div>
        <div
          class="rounded border-l-4 border-danger bg-danger/10 text-foreground px-3 py-2"
        >
          Danger alert
        </div>
      </div>
    </section>

    <script>
      (function () {
        const STORAGE_KEY = 'turbo-theme';
        const DEFAULT_THEME = 'catppuccin-mocha';
        const VALID_THEMES = [
          'catppuccin-mocha',
          'catppuccin-macchiato',
          'catppuccin-frappe',
          'catppuccin-latte',
          'dracula',
          'gruvbox-dark-hard',
          'gruvbox-dark',
          'gruvbox-dark-soft',
          'gruvbox-light-hard',
          'gruvbox-light',
          'gruvbox-light-soft',
          'github-dark',
          'github-light',
          'bulma-dark',
          'bulma-light',
          'nord',
          'solarized-dark',
          'solarized-light',
          'rose-pine',
          'rose-pine-moon',
          'rose-pine-dawn',
        ];

        const selector = document.getElementById('theme-selector');
        const themeLink = document.getElementById('theme-css');

        function applyTheme(id) {
          const themeId = VALID_THEMES.includes(id) ? id : DEFAULT_THEME;
          document.documentElement.setAttribute('data-theme', themeId);
          if (themeLink) {
            themeLink.href = `./turbo-themes/themes/${themeId}.css`;
          }
          try {
            localStorage.setItem(STORAGE_KEY, themeId);
          } catch (e) {
            console.warn('Could not persist theme selection', e);
          }
        }

        // Initialize from storage or default
        let initial = DEFAULT_THEME;
        try {
          const saved = localStorage.getItem(STORAGE_KEY);
          if (saved && VALID_THEMES.includes(saved)) {
            initial = saved;
          }
        } catch (e) {
          console.warn('Could not read theme from storage', e);
        }
        if (selector) {
          selector.value = initial;
        }
        applyTheme(initial);

        // Wire selector changes
        if (selector) {
          selector.addEventListener('change', (e) => {
            applyTheme(e.target.value);
          });
        }
      })();
    </script>
  </body>
</html>
